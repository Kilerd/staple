<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/statics/style.css">
    <title>Staple</title>
</head>
<body>
<div>
    <h1 class="title">Staple</h1>
    <p class="description">简化你的博客之旅。</p>
    <br>
    <div>hehehefsdfsfdsfs</div>
    <nav>
        <a href="archive.html">Archives</a>
        <a href="Changelog.html">Changelog</a>
        <a href="https://github.com/Kilerd/staple" target="_blank">Github</a>
    </nav>
    <div>
        <p>#hello staple
here is the content</p>

    </div>
    <pre><code>{
  &quot;config&quot;: {
    &quot;extra&quot;: {
      &quot;version&quot;: &quot;0.2.0&quot;
    },
    &quot;site&quot;: {
      &quot;author&quot;: &quot;&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;domain&quot;: &quot;https:&#x2F;&#x2F;kilerd.github.io&quot;,
      &quot;domain_root&quot;: &quot;staple&quot;,
      &quot;email&quot;: &quot;&quot;,
      &quot;keywords&quot;: [],
      &quot;subtitle&quot;: &quot;&quot;,
      &quot;theme&quot;: &quot;staple&quot;,
      &quot;title&quot;: &quot;Staple Homepage&quot;,
      &quot;utc_offset&quot;: 800
    },
    &quot;statics&quot;: [
      {
        &quot;from&quot;: &quot;CNAME&quot;,
        &quot;to&quot;: &quot;CNAME&quot;
      }
    ]
  },
  &quot;page&quot;: {
    &quot;content&quot;: {
      &quot;html&quot;: &quot;&lt;p&gt;#hello staple\nhere is the content&lt;&#x2F;p&gt;\n&quot;,
      &quot;markdown&quot;: &quot;#hello staple\n here is the content&quot;
    },
    &quot;data&quot;: {
      &quot;tags&quot;: [
        &quot;test&quot;,
        &quot;markdown&quot;,
        &quot;json&quot;
      ]
    },
    &quot;datetime&quot;: &quot;2015-02-18T23:59:60.234567+05:00&quot;,
    &quot;description&quot;: null,
    &quot;template&quot;: &quot;index.html&quot;,
    &quot;title&quot;: &quot;首页&quot;,
    &quot;url&quot;: &quot;&#x2F;&quot;
  }
}</code></pre>



</div>
</body>
<script>

    function websocket_connect() {
        let webSocket = new WebSocket("ws://localhost:8000/notifier");
        webSocket.onopen = function () {
            webSocket.send("Connecting...");
            console.log("ws connection...");
        };
        webSocket.onmessage = function (event) {
            let data = event.data;
            console.log("ws get event: ", data);
            if (data === "refresh") {
                window.location.reload();
            }
        };
        webSocket.onclose = function (e) {
            console.log("ws disconnected.", e);
            console.log("trying to reconnect servere 5 second later");
            setTimeout(websocket_connect, 5000);
        };
    }

    if ("WebSocket" in window) {
        websocket_connect();

    } else {
        console.log("your browser does not support websocket");
    }
</script>
</html>