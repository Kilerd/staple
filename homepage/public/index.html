<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/statics/style.css">
    <title>Staple</title>
</head>
<body>
<div>
    <h1 class="title">Staple</h1>
    <p class="description">简化你的博客之旅。</p>
    <br>
    <div>hehehefsdfsfdsfs</div>
    <nav>
        <a href="archive.html">Archives</a>
        <a href="Changelog.html">Changelog</a>
        <a href="https://github.com/Kilerd/staple" target="_blank">Github</a>
    </nav>
    <div>
        <p>#hello staple
here is the content</p>

    </div>
    <pre><code>{
  &quot;config&quot;: {
    &quot;extra&quot;: {
      &quot;version&quot;: &quot;0.2.0&quot;
    },
    &quot;site&quot;: {
      &quot;author&quot;: &quot;&quot;,
      &quot;default_template&quot;: &quot;article.html&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;domain&quot;: &quot;https:&#x2F;&#x2F;kilerd.github.io&quot;,
      &quot;domain_root&quot;: &quot;staple&quot;,
      &quot;email&quot;: &quot;&quot;,
      &quot;keywords&quot;: [],
      &quot;subtitle&quot;: &quot;&quot;,
      &quot;theme&quot;: &quot;staple&quot;,
      &quot;title&quot;: &quot;Staple Homepage&quot;,
      &quot;utc_offset&quot;: 800
    },
    &quot;statics&quot;: [
      {
        &quot;from&quot;: &quot;CNAME&quot;,
        &quot;to&quot;: &quot;CNAME&quot;
      }
    ]
  },
  &quot;develop&quot;: {
    &quot;live_reload&quot;: &quot;&lt;script&gt;\n\n    function websocket_connect() {\n        let webSocket = new WebSocket(\&quot;ws:&#x2F;&#x2F;localhost:8000&#x2F;notifier\&quot;);\n        webSocket.onopen = function () {\n            webSocket.send(\&quot;Connecting...\&quot;);\n            console.log(\&quot;ws connection...\&quot;);\n        };\n        webSocket.onmessage = function (event) {\n            let data = event.data;\n            console.log(\&quot;ws get event: \&quot;, data);\n            if (data === \&quot;refresh\&quot;) {\n                window.location.reload();\n            }\n        };\n        webSocket.onclose = function (e) {\n            console.log(\&quot;ws disconnected.\&quot;, e);\n            console.log(\&quot;trying to reconnect servere 5 second later\&quot;);\n            setTimeout(websocket_connect, 5000);\n        };\n    }\n\n    if (\&quot;WebSocket\&quot; in window) {\n        websocket_connect();\n\n    } else {\n        console.log(\&quot;your browser does not support websocket\&quot;);\n    }\n&lt;&#x2F;script&gt;&quot;
  },
  &quot;page&quot;: {
    &quot;content&quot;: {
      &quot;html&quot;: &quot;&lt;p&gt;#hello staple\nhere is the content&lt;&#x2F;p&gt;\n&quot;,
      &quot;markdown&quot;: &quot;#hello staple\n here is the content&quot;
    },
    &quot;data&quot;: {
      &quot;tags&quot;: [
        &quot;test&quot;,
        &quot;markdown&quot;,
        &quot;json&quot;
      ]
    },
    &quot;datetime&quot;: &quot;2015-02-18T23:59:60.234567+05:00&quot;,
    &quot;description&quot;: null,
    &quot;draw&quot;: false,
    &quot;template&quot;: &quot;index.html&quot;,
    &quot;title&quot;: &quot;首页&quot;,
    &quot;type&quot;: &quot;JsonFile&quot;,
    &quot;url&quot;: &quot;&#x2F;&quot;
  },
  &quot;pages&quot;: [
    {
      &quot;data&quot;: {
        &quot;tags&quot;: [
          &quot;test&quot;,
          &quot;markdown&quot;,
          &quot;json&quot;
        ]
      },
      &quot;datetime&quot;: &quot;2015-02-18T23:59:60.234567+05:00&quot;,
      &quot;description&quot;: null,
      &quot;draw&quot;: false,
      &quot;file&quot;: &quot;data&#x2F;index.json&quot;,
      &quot;template&quot;: &quot;index.html&quot;,
      &quot;title&quot;: &quot;首页&quot;,
      &quot;url&quot;: &quot;&#x2F;&quot;
    },
    {
      &quot;data&quot;: {},
      &quot;datetime&quot;: &quot;2020-08-06T17:00:26.467128+08:00&quot;,
      &quot;description&quot;: null,
      &quot;draw&quot;: false,
      &quot;file&quot;: &quot;data&#x2F;innerFolder.json&quot;,
      &quot;template&quot;: &quot;article.html&quot;,
      &quot;title&quot;: &quot;innerFolder&quot;,
      &quot;url&quot;: &quot;inner&#x2F;folder&quot;
    },
    {
      &quot;data&quot;: {},
      &quot;datetime&quot;: &quot;2020-08-06T17:08:17.329345+08:00&quot;,
      &quot;description&quot;: null,
      &quot;draw&quot;: false,
      &quot;file&quot;: &quot;data&#x2F;innerFolder2.md&quot;,
      &quot;template&quot;: &quot;article.html&quot;,
      &quot;title&quot;: &quot;innerFolder2&quot;,
      &quot;url&quot;: &quot;inner&#x2F;folder2&quot;
    },
    {
      &quot;data&quot;: {
        &quot;fsdfs&quot;: &quot;fsdffsdfdsfdsfsd fdsfdsf&quot;,
        &quot;tags&quot;: &quot;test, markdown&quot;
      },
      &quot;datetime&quot;: &quot;2020-08-06T17:08:17.329345+08:00&quot;,
      &quot;description&quot;: null,
      &quot;draw&quot;: false,
      &quot;file&quot;: &quot;data&#x2F;test.md&quot;,
      &quot;template&quot;: &quot;article.html&quot;,
      &quot;title&quot;: &quot;hello&quot;,
      &quot;url&quot;: &quot;&#x2F;test-markdown-file&quot;
    }
  ]
}</code></pre>



</div>
</body>
<script>

    function websocket_connect() {
        let webSocket = new WebSocket("ws://localhost:8000/notifier");
        webSocket.onopen = function () {
            webSocket.send("Connecting...");
            console.log("ws connection...");
        };
        webSocket.onmessage = function (event) {
            let data = event.data;
            console.log("ws get event: ", data);
            if (data === "refresh") {
                window.location.reload();
            }
        };
        webSocket.onclose = function (e) {
            console.log("ws disconnected.", e);
            console.log("trying to reconnect servere 5 second later");
            setTimeout(websocket_connect, 5000);
        };
    }

    if ("WebSocket" in window) {
        websocket_connect();

    } else {
        console.log("your browser does not support websocket");
    }
</script>
</html>